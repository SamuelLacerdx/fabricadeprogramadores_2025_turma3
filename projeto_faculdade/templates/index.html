<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Criar Usuário e Nota</title>
    <link rel="stylesheet" href="../static/css/styles.css ">
</head>
<body>
    <div class="container">
        <h1>Criar Usuário e Nota</h1>
        <form id="notaForm">
            <label for="usuario">Nome:</label>
            <input type="text" id="usuario" name="usuario" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="senha">Senha:</label>
            <input type="password" id="senha" name="senha" required>

            <label for="titulo">Título:</label>
            <input type="text" id="titulo" name="titulo" required>

            <label for="nota">Nota:</label>
            <input type="text" id="nota" name="nota" required>
            <button type="submit">Enviar</button>
        </form>
        <div id="mensagem"></div>
    </div>

    <script>
        const form = document.getElementById('notaForm');
        const mensagemDiv = document.getElementById('mensagem');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const dados = {
                usuario: form.usuario.value,
                email: form.email.value,
                senha: form.senha.value,
                titulo: form.titulo.value,
                nota: form.nota.value
            };

            const resposta = await fetch("/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(dados)
            });

            const resultado = await resposta.json();
            mensagemDiv.textContent = resultado.message || resultado.error;
            mensagemDiv.className = resposta.ok ? "sucesso" : "erro";
        });
    </script>
</body>
</html>
